<div class="ui segment breadcrumb">
  <%= link_to '返回', admin_facilitates_path, class: 'section' %>
  <div class="divider">/</div>
  <%# link_to @good.name, admin_facilitate_path(@good), class: 'section' %>
  <div class="divider">/</div>
  <div class="active section">编辑</div>
</div>

<div class="ui top attached menu borderless">
  <div class="item"><strong>供应商管理</strong></div>
</div>

<table class="ui bottom attached table">
  <thead>
    <tr>
      <th><%= GoodProvider.human_attribute_name(:id) %></th>
      <th><%= GoodProvider.human_attribute_name(:provider) %></th>
      <th><%= GoodProvider.human_attribute_name(:export_price) %></th>
      <th>验证</th>
      <th>默认供应商</th>
      <th><%= GoodProvider.human_attribute_name(:created_at) %></th>
      <th></th>
    </tr>
  </thead>

  <tbody>
  <% @good_providers.each do |good_provider| %>
    <tr>
      <td><%= good_provider.id %></td>
      <td><%= good_provider.provider.name %></td>
      <td><%= good_provider.export_price %></td>
      <td>
        <%= form_with url: verify_admin_good_provider_path(params[:good_type], params[:good_id], good_provider.id), method: :patch do %>
          <span class="ui toggle checkbox">
            <label></label>
            <%= check_box_tag :verified, 1, good_provider.verified, onChange: 'this.form.submit()' %>
          </span>
        <% end %>
      </td>
      <td>
        <%= form_with url: select_admin_good_provider_path(params[:good_type], params[:good_id], good_provider.id), method: :patch do %>
          <span class="<%= active_assert(good_provider.selected, expected: 'ui toggle disabled checkbox', unexpected: 'ui toggle checkbox') %>">
            <label></label>
            <%= check_box_tag :selected, nil, good_provider.selected, onChange: 'this.form.submit()' %>
          </span>
        <% end %>
      </td>
      <td><time><%= good_provider.created_at.to_s(:rfc822) %></time></td>
      <td>
        <%= link_to admin_good_provider_path(params[:good_type], params[:good_id], good_provider), method: :delete, data: { confirm: 'Are you sure?' }, class: 'ui red mini icon button' do %>
          <i class="times icon"></i>
        <% end %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>

<%= paginate @good_providers %>
